import"../chunks/CWj6FrbW.js";import{j as wa,d as w,a as s,p as Ua,f as i,c as r,r as a,m as u,b as Ma,n as U,g as l,s as d,o as x,l as Sa,t as La}from"../chunks/OF3EgmvO.js";import{i as h}from"../chunks/wlFoaW_T.js";import{a as Ha,e as Wa}from"../chunks/DECfYjIR.js";import{d as za,c as Na,s as P,r as ja,B as xa,a as Ba}from"../chunks/DrwkzclB.js";import{U as Ia,A as qa}from"../chunks/BGciXxwI.js";import{I as Ea,s as Fa,B as va,e as Ga,C as ia}from"../chunks/DzfTeG5e.js";import{C as na}from"../chunks/DBJYfggh.js";import{a as Ja,g as Ka}from"../chunks/Dky2jAKs.js";import{l as Qa,s as Xa,p as Ta}from"../chunks/QIIHtePh.js";import{B as Da}from"../chunks/BMF07ZcG.js";import{C as Aa}from"../chunks/CC9YQ7zH.js";import{T as Oa}from"../chunks/CbkV8qYI.js";import{B as Ya}from"../chunks/DxOzrAxA.js";import"../chunks/gg-Huw4A.js";import{U as Za}from"../chunks/DHWJupCZ.js";function ar(ca,n){const F=Qa(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.460.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]];Ea(ca,Xa({name:"log-out"},()=>F,{get iconNode(){return G},children:(J,K)=>{var A=wa(),ua=w(A);Fa(ua,n,"default",{}),s(J,A)},$$slots:{default:!0}}))}var rr=i('<div class="flex flex-col items-center justify-center rounded-lg border border-dashed py-12 text-center"><div class="mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10"><!></div> <h3 class="mb-1 font-semibold">No Books Currently Reading</h3> <p class="text-sm text-muted-foreground">Start reading by tapping "Start Reading" on any book.</p></div>'),tr=i('<img class="h-full w-full object-cover"/>'),er=i('<div class="flex h-full w-full items-center justify-center"><!></div>'),or=i('<p class="mb-2 line-clamp-1 text-xs text-muted-foreground"> </p>'),sr=i("<!> ",1),lr=i("<!> Remove",1),dr=i('<form method="POST" action="/currently-reading?/remove"><input type="hidden" name="recordId"/> <!></form>'),vr=i('<a class="relative mb-3 aspect-[2/3] overflow-hidden rounded-md bg-muted transition-opacity hover:opacity-80"><!></a> <div class="flex flex-1 flex-col"><a class="mb-1"><h4 class="line-clamp-2 text-sm font-semibold leading-tight transition-colors hover:text-primary"> </h4></a> <!> <!> <div class="mt-auto"><div class="mb-2 flex items-center gap-1 text-xs text-muted-foreground"><!> <span class="truncate"> </span></div> <!></div></div>',1),ir=i('<div class="flex-shrink-0 snap-start" style="width: 200px;"><!></div>'),nr=i('<img class="h-full w-full object-cover"/>'),cr=i('<div class="flex h-full w-full items-center justify-center"><!></div>'),ur=i('<p class="mb-2 line-clamp-1 text-xs text-muted-foreground"> </p>'),fr=i("<!> ",1),_r=i("<!> Remove",1),mr=i('<form method="POST" action="/currently-reading?/remove"><input type="hidden" name="recordId"/> <!></form>'),hr=i('<a class="relative mb-3 aspect-[2/3] overflow-hidden rounded-md bg-muted transition-opacity hover:opacity-80"><!></a> <div class="flex flex-1 flex-col"><a class="mb-1"><h4 class="line-clamp-2 text-sm font-semibold leading-tight transition-colors hover:text-primary"> </h4></a> <!> <!> <div class="mt-auto"><div class="mb-2 flex items-center gap-1 text-xs text-muted-foreground"><!> <span> </span></div> <!></div></div>',1),pr=i('<img class="h-full w-full object-cover"/>'),gr=i('<div class="flex h-full w-full items-center justify-center"><!></div>'),xr=i('<p class="mt-1 text-sm text-muted-foreground"> </p>'),br=i("<!> ",1),yr=i("<!> Remove",1),wr=i('<div class="mt-auto pt-3"><form method="POST" action="/currently-reading?/remove"><input type="hidden" name="recordId"/> <!></form></div>'),$r=i('<div class="flex gap-4"><a class="relative h-32 w-24 flex-shrink-0 overflow-hidden rounded-md bg-muted transition-opacity hover:opacity-80"><!></a> <div class="flex flex-1 flex-col"><a><h4 class="font-semibold leading-tight transition-colors hover:text-primary"> </h4></a> <!> <div class="mt-2 flex flex-wrap items-center gap-2"><!> <div class="flex items-center gap-1 text-xs text-muted-foreground"><!> <span> </span></div></div> <!></div></div>'),kr=i('<div class="mt-4 text-center"><!></div>'),Pr=i("<div></div> <!>",1),Rr=i("<div><!></div>");function Cr(ca,n){Ua(n,!0);let F=Ta(n,"showRemoveButton",3,!0),G=Ta(n,"layout",3,"carousel"),J=Ta(n,"class",3,"");const K=n.maxItems?n.currentlyReading.slice(0,n.maxItems):n.currentlyReading;function A(B){const I=new Date(B),C=Math.floor((new Date().getTime()-I.getTime())/(1e3*60*60*24));return C===0?"Started today":C===1?"Started yesterday":C<7?`Started ${C} days ago`:C<30?`Started ${Math.floor(C/7)} weeks ago`:`Started ${I.toLocaleDateString()}`}const ua=G()==="carousel"?"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory":G()==="grid"?"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4":"space-y-4";var ea=Rr(),$a=r(ea);{var fa=B=>{var I=rr(),O=r(I),C=r(O);va(C,{class:"h-8 w-8 text-primary"}),a(O),U(4),a(I),s(B,I)},ka=B=>{var I=Pr(),O=w(I);Ga(O,21,()=>K,T=>T.id,(T,t)=>{var M=wa(),ma=w(M);{var ha=V=>{var pa=wa(),Pa=w(pa);{var ba=L=>{var v=ir(),c=r(v);ia(c,{class:"h-full",children:(_,N)=>{na(_,{class:"flex h-full flex-col p-4",children:(g,k)=>{var y=vr(),$=w(y),Ra=r($);{var H=f=>{var m=tr();u(()=>{P(m,"src",l(t).books.cover_url),P(m,"alt",l(t).books.title)}),s(f,m)},D=f=>{var m=er(),j=r(m);va(j,{class:"h-12 w-12 text-muted-foreground"}),a(m),s(f,m)};h(Ra,f=>{l(t).books.cover_url?f(H):f(D,!1)})}a($);var oa=d($,2),W=r(oa),sa=r(W),Q=r(sa,!0);a(sa),a(W);var S=d(W,2);{var X=f=>{var m=or(),j=r(m,!0);a(m),u(()=>x(j,l(t).books.authors[0])),s(f,m)};h(S,f=>{l(t).books.authors&&l(t).books.authors.length>0&&f(X)})}var la=d(S,2);{var Y=f=>{Da(f,{variant:"outline",class:"mb-2 w-fit gap-1 text-xs",children:(m,j)=>{var e=sr(),o=w(e);Ia(o,{class:"h-2.5 w-2.5"});var p=d(o);u(()=>x(p,` ${l(t).groups.name??""}`)),s(m,e)},$$slots:{default:!0}})};h(la,f=>{l(t).groups&&f(Y)})}var da=d(la,2),z=r(da),Z=r(z);Aa(Z,{class:"h-3 w-3"});var aa=d(Z,2),q=r(aa,!0);a(aa),a(z);var ra=d(z,2);{var ta=f=>{var m=dr(),j=r(m);ja(j);var e=d(j,2);xa(e,{type:"submit",variant:"ghost",size:"sm",class:"h-8 w-full gap-1 text-xs text-destructive hover:text-destructive",children:(o,p)=>{var b=lr(),R=w(b);Oa(R,{class:"h-3 w-3"}),U(),s(o,b)},$$slots:{default:!0}}),a(m),u(()=>Ba(j,l(t).id)),Sa("submit",m,o=>{confirm("Remove from currently reading?")||o.preventDefault()}),s(f,m)};h(ra,f=>{F()&&f(ta)})}a(da),a(oa),u(f=>{P($,"href",`/book/${l(t).books.id}`),P(W,"href",`/book/${l(t).books.id}`),x(Q,l(t).books.title),x(q,f)},[()=>A(l(t).started_at)]),s(g,y)},$$slots:{default:!0}})},$$slots:{default:!0}}),a(v),s(L,v)},ga=L=>{var v=wa(),c=w(v);{var _=g=>{ia(g,{class:"h-full",children:(k,y)=>{na(k,{class:"flex h-full flex-col p-4",children:($,Ra)=>{var H=hr(),D=w(H),oa=r(D);{var W=e=>{var o=nr();u(()=>{P(o,"src",l(t).books.cover_url),P(o,"alt",l(t).books.title)}),s(e,o)},sa=e=>{var o=cr(),p=r(o);va(p,{class:"h-12 w-12 text-muted-foreground"}),a(o),s(e,o)};h(oa,e=>{l(t).books.cover_url?e(W):e(sa,!1)})}a(D);var Q=d(D,2),S=r(Q),X=r(S),la=r(X,!0);a(X),a(S);var Y=d(S,2);{var da=e=>{var o=ur(),p=r(o,!0);a(o),u(b=>x(p,b),[()=>l(t).books.authors.join(", ")]),s(e,o)};h(Y,e=>{l(t).books.authors&&l(t).books.authors.length>0&&e(da)})}var z=d(Y,2);{var Z=e=>{Da(e,{variant:"outline",class:"mb-2 w-fit gap-1 text-xs",children:(o,p)=>{var b=fr(),R=w(b);Ia(R,{class:"h-2.5 w-2.5"});var E=d(R);u(()=>x(E,` ${l(t).groups.name??""}`)),s(o,b)},$$slots:{default:!0}})};h(z,e=>{l(t).groups&&e(Z)})}var aa=d(z,2),q=r(aa),ra=r(q);Aa(ra,{class:"h-3 w-3"});var ta=d(ra,2),f=r(ta,!0);a(ta),a(q);var m=d(q,2);{var j=e=>{var o=mr(),p=r(o);ja(p);var b=d(p,2);xa(b,{type:"submit",variant:"ghost",size:"sm",class:"h-8 w-full gap-1 text-xs text-destructive hover:text-destructive",children:(R,E)=>{var Ca=_r(),ya=w(Ca);Oa(ya,{class:"h-3 w-3"}),U(),s(R,Ca)},$$slots:{default:!0}}),a(o),u(()=>Ba(p,l(t).id)),Sa("submit",o,R=>{confirm("Remove from currently reading?")||R.preventDefault()}),s(e,o)};h(m,e=>{F()&&e(j)})}a(aa),a(Q),u(e=>{P(D,"href",`/book/${l(t).books.id}`),P(S,"href",`/book/${l(t).books.id}`),x(la,l(t).books.title),x(f,e)},[()=>A(l(t).started_at)]),s($,H)},$$slots:{default:!0}})},$$slots:{default:!0}})},N=g=>{ia(g,{children:(k,y)=>{na(k,{class:"p-4",children:($,Ra)=>{var H=$r(),D=r(H),oa=r(D);{var W=e=>{var o=pr();u(()=>{P(o,"src",l(t).books.cover_url),P(o,"alt",l(t).books.title)}),s(e,o)},sa=e=>{var o=gr(),p=r(o);va(p,{class:"h-10 w-10 text-muted-foreground"}),a(o),s(e,o)};h(oa,e=>{l(t).books.cover_url?e(W):e(sa,!1)})}a(D);var Q=d(D,2),S=r(Q),X=r(S),la=r(X,!0);a(X),a(S);var Y=d(S,2);{var da=e=>{var o=xr(),p=r(o);a(o),u(b=>x(p,`by ${b??""}`),[()=>l(t).books.authors.join(", ")]),s(e,o)};h(Y,e=>{l(t).books.authors&&l(t).books.authors.length>0&&e(da)})}var z=d(Y,2),Z=r(z);{var aa=e=>{Da(e,{variant:"outline",class:"gap-1 text-xs",children:(o,p)=>{var b=br(),R=w(b);Ia(R,{class:"h-3 w-3"});var E=d(R);u(()=>x(E,` ${l(t).groups.name??""}`)),s(o,b)},$$slots:{default:!0}})};h(Z,e=>{l(t).groups&&e(aa)})}var q=d(Z,2),ra=r(q);Aa(ra,{class:"h-3 w-3"});var ta=d(ra,2),f=r(ta,!0);a(ta),a(q),a(z);var m=d(z,2);{var j=e=>{var o=wr(),p=r(o),b=r(p);ja(b);var R=d(b,2);xa(R,{type:"submit",variant:"ghost",size:"sm",class:"gap-1 text-destructive hover:text-destructive",children:(E,Ca)=>{var ya=yr(),Va=w(ya);Oa(Va,{class:"h-3.5 w-3.5"}),U(),s(E,ya)},$$slots:{default:!0}}),a(p),a(o),u(()=>Ba(b,l(t).id)),Sa("submit",p,E=>{confirm("Remove from currently reading?")||E.preventDefault()}),s(e,o)};h(m,e=>{F()&&e(j)})}a(Q),a(H),u(e=>{P(D,"href",`/book/${l(t).books.id}`),P(S,"href",`/book/${l(t).books.id}`),x(la,l(t).books.title),x(f,e)},[()=>A(l(t).started_at)]),s($,H)},$$slots:{default:!0}})},$$slots:{default:!0}})};h(c,g=>{G()==="grid"?g(_):g(N,!1)},!0)}s(L,v)};h(Pa,L=>{G()==="carousel"?L(ba):L(ga,!1)})}s(V,pa)};h(ma,V=>{l(t).books&&V(ha)})}s(T,M)}),a(O);var C=d(O,2);{var _a=T=>{var t=kr(),M=r(t);xa(M,{href:"/currently-reading",variant:"outline",children:(ma,ha)=>{U();var V=La();u(()=>x(V,`View All (${n.currentlyReading.length??""})`)),s(ma,V)},$$slots:{default:!0}}),a(t),s(T,t)};h(C,T=>{n.maxItems&&n.currentlyReading.length>n.maxItems&&T(_a)})}u(()=>za(O,1,Na(ua),"svelte-1ae5r17")),s(B,I)};h($a,B=>{K.length===0?B(fa):B(ka,!1)})}a(ea),u(()=>za(ea,1,Na(J()),"svelte-1ae5r17")),s(ca,ea),Ma()}var Sr=i('<img class="h-full w-full rounded-full object-cover"/>'),jr=i('<p class="text-muted-foreground"> </p>'),Br=i('<p class="mt-2 text-sm text-foreground/80"> </p>'),Ir=i('<!> <p class="page-heading text-xl"> </p> <p class="meta-label mt-1">Want to Read</p>',1),Tr=i('<!> <p class="page-heading text-xl"> </p> <p class="meta-label mt-1">Currently Reading</p>',1),Dr=i('<!> <p class="page-heading text-xl"> </p> <p class="meta-label mt-1">Completed</p>',1),Ar=i('<a href="/currently-reading" class="text-sm text-primary hover:underline">View All</a>'),Or=i('<div class="mb-8"><div class="mb-4 flex items-center justify-between"><h2 class="text-lg font-semibold">Currently Reading</h2> <!></div> <!></div>'),zr=i("<!> Sign Out",1),Nr=i('<div class="mx-auto max-w-2xl px-4 py-6"><div class="mb-8 text-center"><div class="mx-auto mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-primary/10"><!></div> <h1 class="page-heading text-xl"> </h1> <!> <!></div> <div class="mb-8 grid grid-cols-3 gap-4"><a href="/wishlist"><!></a> <a href="/currently-reading"><!></a> <a href="/completed"><!></a></div> <!> <div class="space-y-3"><form method="POST" action="/auth/signout" class="w-full"><!></form></div></div>');function at(ca,n){Ua(n,!0),qa(ca,{title:"Profile",children:(F,G)=>{var J=Nr(),K=r(J),A=r(K),ua=r(A);{var ea=v=>{var c=Sr();u(()=>{P(c,"src",n.data.profile.avatar_url),P(c,"alt",n.data.profile.username)}),s(v,c)},$a=v=>{Za(v,{class:"h-12 w-12 text-primary"})};h(ua,v=>{n.data.profile.avatar_url?v(ea):v($a,!1)})}a(A);var fa=d(A,2),ka=r(fa,!0);a(fa);var B=d(fa,2);{var I=v=>{var c=jr(),_=r(c);a(c),u(()=>x(_,`@${n.data.profile.username??""}`)),s(v,c)};h(B,v=>{n.data.profile.display_name&&n.data.profile.username!==n.data.profile.display_name&&v(I)})}var O=d(B,2);{var C=v=>{var c=Br(),_=r(c,!0);a(c),u(()=>x(_,n.data.profile.bio)),s(v,c)};h(O,v=>{n.data.profile.bio&&v(C)})}a(K);var _a=d(K,2),T=r(_a),t=r(T);ia(t,{class:"cursor-pointer transition-all hover:shadow-md",children:(v,c)=>{na(v,{class:"pt-6 text-center",children:(_,N)=>{var g=Ir(),k=w(g);va(k,{class:"mx-auto mb-2 h-6 w-6 text-primary"});var y=d(k,2),$=r(y,!0);a(y),U(2),u(()=>x($,n.data.wishlistCount)),s(_,g)},$$slots:{default:!0}})},$$slots:{default:!0}}),a(T);var M=d(T,2),ma=r(M);ia(ma,{class:"cursor-pointer transition-all hover:shadow-md",children:(v,c)=>{na(v,{class:"pt-6 text-center",children:(_,N)=>{var g=Tr(),k=w(g);va(k,{class:"mx-auto mb-2 h-6 w-6 text-orange-500"});var y=d(k,2),$=r(y,!0);a(y),U(2),u(()=>x($,n.data.currentlyReadingCount)),s(_,g)},$$slots:{default:!0}})},$$slots:{default:!0}}),a(M);var ha=d(M,2),V=r(ha);ia(V,{class:"cursor-pointer transition-all hover:shadow-md",children:(v,c)=>{na(v,{class:"pt-6 text-center",children:(_,N)=>{var g=Dr(),k=w(g);Ya(k,{class:"mx-auto mb-2 h-6 w-6 text-primary"});var y=d(k,2),$=r(y,!0);a(y),U(2),u(()=>x($,n.data.completedCount)),s(_,g)},$$slots:{default:!0}})},$$slots:{default:!0}}),a(ha),a(_a);var pa=d(_a,2);{var Pa=v=>{var c=Or(),_=r(c),N=d(r(_),2);{var g=y=>{var $=Ar();s(y,$)};h(N,y=>{n.data.currentlyReading.length>6&&y(g)})}a(_);var k=d(_,2);Cr(k,{get currentlyReading(){return n.data.currentlyReading},showRemoveButton:!1,layout:"carousel",maxItems:6}),a(c),s(v,c)};h(pa,v=>{n.data.currentlyReading&&n.data.currentlyReading.length>0&&v(Pa)})}var ba=d(pa,2),ga=r(ba),L=r(ga);xa(L,{type:"submit",variant:"destructive",class:"w-full",children:(v,c)=>{var _=zr(),N=w(_);ar(N,{class:"mr-2 h-4 w-4"}),U(),s(v,_)},$$slots:{default:!0}}),a(ga),Ha(ga,(v,c)=>{var _;return(_=Wa)==null?void 0:_(v,c)},()=>()=>async({result:v})=>{await Ja(),await Ka("/",{replaceState:!0})}),a(ba),a(J),u(()=>x(ka,n.data.profile.display_name||n.data.profile.username)),s(F,J)},$$slots:{default:!0}}),Ma()}export{at as component};
