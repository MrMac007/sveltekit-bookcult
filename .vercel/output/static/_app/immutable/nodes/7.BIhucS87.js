import"../chunks/CWj6FrbW.js";import{p as ma,b as xa,f as i,a as l,c as r,r as e,n as I,s as n,g as s,d as H,m as u,o as p,l as ha}from"../chunks/OF3EgmvO.js";import{i as _}from"../chunks/wlFoaW_T.js";import{B as J,e as ga,C as ba}from"../chunks/DzfTeG5e.js";import{r as K,B as Q,s as y,a as U}from"../chunks/DrwkzclB.js";import{A as ka}from"../chunks/BGciXxwI.js";import{C as ya}from"../chunks/DBJYfggh.js";import{C as wa}from"../chunks/CC9YQ7zH.js";import{B as $a}from"../chunks/DxOzrAxA.js";import{T as Ca}from"../chunks/CbkV8qYI.js";var Ra=i('<div class="flex flex-col items-center justify-center py-12 text-center"><div class="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-primary/10"><!></div> <h2 class="mb-2 text-xl font-semibold">No Books Currently Reading</h2> <p class="max-w-md text-sm text-muted-foreground">Start reading by tapping "Mark as Reading" on any book.</p></div>'),Sa=i('<img class="h-full w-full object-cover"/>'),Ba=i('<div class="flex h-full w-full items-center justify-center"><!></div>'),Pa=i('<p class="mt-1 text-sm text-muted-foreground"> </p>'),Da=i('<p class="mt-2 line-clamp-2 text-sm text-muted-foreground"> </p>'),Ta=i("<span> </span>"),ja=i("<span>â€¢</span>"),Ma=i("<span> </span>"),Ia=i("<!> Mark Complete",1),za=i("<!> Remove",1),Aa=i('<div class="flex gap-4"><a class="relative h-40 w-28 flex-shrink-0 overflow-hidden rounded-md bg-muted transition-opacity hover:opacity-80"><!></a> <div class="flex flex-1 flex-col"><div class="flex-1"><a><h3 class="font-semibold leading-tight transition-colors hover:text-primary"> </h3></a> <!> <div class="mt-2 flex items-center gap-1.5 text-xs text-muted-foreground"><!> <span> </span></div> <!> <div class="mt-auto flex flex-wrap gap-2 pt-3 text-xs text-muted-foreground"><!> <!> <!></div></div> <div class="mt-3 flex flex-wrap gap-2"><form method="POST" action="?/markComplete" class="flex-1 min-w-[140px]"><input type="hidden" name="bookId"/> <!></form> <form method="POST" action="?/remove" class="flex-1 min-w-[140px]"><input type="hidden" name="recordId"/> <!></form></div></div></div>'),Oa=i('<div class="space-y-4"><h2 class="text-lg font-semibold"> </h2> <!></div>'),Fa=i('<div class="mx-auto max-w-5xl px-4 py-6"><!></div>');function Wa(V,m){ma(m,!0);function W(w){const $=new Date(w),v=Math.floor((new Date().getTime()-$.getTime())/(1e3*60*60*24));return v===0?"Started today":v===1?"Started yesterday":v<7?`Started ${v} days ago`:v<30?`Started ${Math.floor(v/7)} weeks ago`:`Started ${$.toLocaleDateString()}`}ka(V,{title:"Currently Reading",children:(w,$)=>{var g=Fa(),v=r(g);{var X=x=>{var f=Ra(),h=r(f),C=r(h);J(C,{class:"h-10 w-10 text-primary"}),e(h),I(4),e(f),l(x,f)},Z=x=>{var f=Oa(),h=r(f),C=r(h);e(h);var aa=n(h,2);ga(aa,17,()=>m.data.currentlyReading,R=>R.id,(R,o)=>{ba(R,{children:(ta,La)=>{ya(ta,{class:"p-4",children:(ra,Na)=>{var S=Aa(),b=r(S),ea=r(b);{var oa=a=>{var t=Sa();u(()=>{y(t,"src",s(o).books.cover_url),y(t,"alt",s(o).books.title)}),l(a,t)},sa=a=>{var t=Ba(),d=r(t);J(d,{class:"h-12 w-12 text-muted-foreground"}),e(t),l(a,t)};_(ea,a=>{s(o).books.cover_url?a(oa):a(sa,!1)})}e(b);var z=n(b,2),B=r(z),k=r(B),A=r(k),da=r(A,!0);e(A),e(k);var O=n(k,2);{var la=a=>{var t=Pa(),d=r(t);e(t),u(c=>p(d,`by ${c??""}`),[()=>s(o).books.authors.join(", ")]),l(a,t)};_(O,a=>{s(o).books.authors&&s(o).books.authors.length>0&&a(la)})}var P=n(O,2),F=r(P);wa(F,{class:"h-3.5 w-3.5"});var L=n(F,2),na=r(L,!0);e(L),e(P);var N=n(P,2);{var ia=a=>{var t=Da(),d=r(t,!0);e(t),u(()=>p(d,s(o).books.description)),l(a,t)};_(N,a=>{s(o).books.description&&a(ia)})}var Y=n(N,2),q=r(Y);{var va=a=>{var t=Ta(),d=r(t,!0);e(t),u(c=>p(d,c),[()=>new Date(s(o).books.published_date).getFullYear()]),l(a,t)};_(q,a=>{s(o).books.published_date&&a(va)})}var E=n(q,2);{var fa=a=>{var t=ja();l(a,t)};_(E,a=>{s(o).books.page_count&&s(o).books.published_date&&a(fa)})}var ca=n(E,2);{var ua=a=>{var t=Ma(),d=r(t);e(t),u(()=>p(d,`${s(o).books.page_count??""} pages`)),l(a,t)};_(ca,a=>{s(o).books.page_count&&a(ua)})}e(Y),e(B);var G=n(B,2),D=r(G),T=r(D);K(T);var pa=n(T,2);Q(pa,{type:"submit",variant:"default",size:"sm",class:"w-full gap-1.5",children:(a,t)=>{var d=Ia(),c=H(d);$a(c,{class:"h-3.5 w-3.5"}),I(),l(a,d)},$$slots:{default:!0}}),e(D);var j=n(D,2),M=r(j);K(M);var _a=n(M,2);Q(_a,{type:"submit",variant:"ghost",size:"sm",class:"w-full gap-1.5 text-destructive hover:text-destructive",children:(a,t)=>{var d=za(),c=H(d);Ca(c,{class:"h-3.5 w-3.5"}),I(),l(a,d)},$$slots:{default:!0}}),e(j),e(G),e(z),e(S),u(a=>{y(b,"href",`/book/${s(o).books.id}`),y(k,"href",`/book/${s(o).books.id}`),p(da,s(o).books.title),p(na,a),U(T,s(o).books.id),U(M,s(o).id)},[()=>W(s(o).started_at)]),ha("submit",j,a=>{confirm("Remove this book from currently reading?")||a.preventDefault()}),l(ra,S)},$$slots:{default:!0}})},$$slots:{default:!0}})}),e(f),u(()=>p(C,`${m.data.currentlyReading.length??""} ${m.data.currentlyReading.length===1?"book":"books"} in
					progress`)),l(x,f)};_(v,x=>{!m.data.currentlyReading||m.data.currentlyReading.length===0?x(X):x(Z,!1)})}e(g),l(w,g)},$$slots:{default:!0}}),xa()}export{Wa as component};
