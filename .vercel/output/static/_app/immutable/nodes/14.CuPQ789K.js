import"../chunks/CWj6FrbW.js";import"../chunks/gg-Huw4A.js";import{p as M,f as _,d as G,t as $,a as o,s as n,c as u,g as l,m as j,b as O,h as A,i as x,n as p,r as v,o as w}from"../chunks/OF3EgmvO.js";import{A as R}from"../chunks/BGciXxwI.js";import{i as T}from"../chunks/wlFoaW_T.js";import{a as U,e as z}from"../chunks/DECfYjIR.js";import{g as B}from"../chunks/Dky2jAKs.js";import{B as E}from"../chunks/DrwkzclB.js";import{I as D}from"../chunks/DaUql_yn.js";import{L as H}from"../chunks/DJs6wcy-.js";import{C as K}from"../chunks/DzfTeG5e.js";import{C as N}from"../chunks/DBJYfggh.js";import{C as Q}from"../chunks/CIP4LxHI.js";import{C as V,a as W}from"../chunks/BNGQdwad.js";var X=_("<!> <!>",1),Y=_('<div class="rounded-md bg-destructive/15 p-3 text-sm text-destructive"> </div>'),Z=_('<form method="POST" action="?/joinGroup"><div class="space-y-4"><!> <div class="space-y-2"><!> <!> <p class="text-xs text-muted-foreground">Ask a group admin for their invite code</p></div> <div class="flex gap-3 pt-4"><!> <!></div></div></form>'),tt=_("<!> <!>",1);function rt(h,C){M(C,!0);let s=A(!1),a=A("");K(h,{children:(b,ot)=>{var P=tt(),I=G(P);V(I,{children:(y,S)=>{var i=X(),c=G(i);W(c,{children:(m,f)=>{p();var d=$("Join a Reading Group");o(m,d)},$$slots:{default:!0}});var g=n(c,2);Q(g,{children:(m,f)=>{p();var d=$("Enter an invite code to join an existing group");o(m,d)},$$slots:{default:!0}}),o(y,i)},$$slots:{default:!0}});var L=n(I,2);N(L,{children:(y,S)=>{var i=Z(),c=u(i),g=u(c);{var m=t=>{var r=Y(),e=u(r,!0);v(r),j(()=>w(e,l(a))),o(t,r)};T(g,t=>{l(a)&&t(m)})}var f=n(g,2),d=u(f);H(d,{for:"inviteCode",children:(t,r)=>{p();var e=$("Invite Code *");o(t,e)},$$slots:{default:!0}});var q=n(d,2);D(q,{id:"inviteCode",name:"inviteCode",type:"text",required:!0,maxlength:8,placeholder:"Enter 8-character code",class:"font-mono tracking-wider uppercase",oninput:t=>{const r=t.target;r.value=r.value.toUpperCase()},get disabled(){return l(s)}}),p(2),v(f);var J=n(f,2),k=u(J);E(k,{type:"submit",get disabled(){return l(s)},class:"flex-1",children:(t,r)=>{p();var e=$();j(()=>w(e,l(s)?"Joining...":"Join Group")),o(t,e)},$$slots:{default:!0}});var F=n(k,2);E(F,{type:"button",variant:"outline",onclick:()=>B("/groups"),get disabled(){return l(s)},children:(t,r)=>{p();var e=$("Cancel");o(t,e)},$$slots:{default:!0}}),v(J),v(c),v(i),U(i,(t,r)=>{var e;return(e=z)==null?void 0:e(t,r)},()=>()=>(x(s,!0),x(a,""),async({result:t})=>{var r,e;x(s,!1),t.type==="success"?(r=t.data)!=null&&r.groupId&&B(`/groups/${t.data.groupId}`):t.type==="failure"&&x(a,((e=t.data)==null?void 0:e.error)||"Failed to join group",!0)})),o(y,i)},$$slots:{default:!0}}),o(b,P)},$$slots:{default:!0}}),O()}var et=_('<div class="mx-auto max-w-2xl px-4 py-6"><!></div>');function gt(h){R(h,{title:"Join Group",children:(C,s)=>{var a=et(),b=u(a);rt(b,{}),v(a),o(C,a)},$$slots:{default:!0}})}export{gt as component};
