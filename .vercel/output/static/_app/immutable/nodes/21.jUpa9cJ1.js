import"../chunks/CWj6FrbW.js";import{p as W,b as $,f as m,a as l,s as k,c as n,r as i,g as s,N as C,n as y,m as D,t as I}from"../chunks/OF3EgmvO.js";import{i as M}from"../chunks/wlFoaW_T.js";import{e as j}from"../chunks/DzfTeG5e.js";import{a as A,e as F}from"../chunks/DECfYjIR.js";import{r as O,a as T}from"../chunks/DrwkzclB.js";import{A as z,B as N}from"../chunks/BGciXxwI.js";import{B as R}from"../chunks/BehU5LlY.js";import{g as Y}from"../chunks/Dky2jAKs.js";var q=m('<div class="relative"><!> <div class="mt-2"><form method="POST" action="?/removeFromWishlist"><input type="hidden" name="bookId"/> <button type="submit" class="text-sm text-destructive hover:underline">Remove from wishlist</button></form></div></div>'),E=m('<div class="space-y-4"></div>'),G=m('<div class="flex flex-col items-center justify-center py-16 text-center"><!> <h3 class="text-lg font-semibold mb-2">Your wishlist is empty</h3> <p class="text-muted-foreground mb-6">Start adding books you want to read</p> <!></div>'),H=m('<div class="mx-auto max-w-5xl px-4 py-6"><div class="mb-6 space-y-1"><h1 class="page-heading">My Wishlist</h1> <p class="text-sm text-muted-foreground"><span class="meta-label">Stories waiting on your shelf</span></p></div> <!></div>');function so(w,v){W(v,!0);async function B(u){const b=new FormData;b.append("bookId",u.id);const e=await fetch("?/markComplete",{method:"POST",body:b});if(e.ok){const c=await e.json();c.type==="redirect"&&Y(c.location)}}z(w,{title:"Wishlist",children:(u,b)=>{var e=H(),c=k(n(e),2);{var P=a=>{var t=E();j(t,21,()=>v.data.wishlistBooks,r=>r.books.id,(r,o)=>{var d=q(),f=n(d);{let h=C(()=>({id:s(o).books.id,google_books_id:s(o).books.google_books_id,title:s(o).books.title,authors:s(o).books.authors,cover_url:s(o).books.cover_url,description:s(o).books.description,published_date:s(o).books.published_date,page_count:s(o).books.page_count,categories:s(o).books.categories,isbn_10:s(o).books.isbn_10,isbn_13:s(o).books.isbn_13}));R(f,{get book(){return s(h)},onMarkComplete:B,isInWishlist:!0})}var p=k(f,2),_=n(p),g=n(_);O(g),y(2),i(_),A(_,h=>{var x;return(x=F)==null?void 0:x(h)}),i(p),i(d),D(()=>T(g,s(o).books.id)),l(r,d)}),i(t),l(a,t)},S=a=>{var t=G(),r=n(t);N(r,{class:"h-16 w-16 text-muted-foreground mb-4"});var o=k(r,6);Button(o,{href:"/discover",size:"sm",children:(d,f)=>{y();var p=I("Discover Books");l(d,p)},$$slots:{default:!0}}),i(t),l(a,t)};M(c,a=>{v.data.wishlistBooks.length>0?a(P):a(S,!1)})}i(e),l(u,e)},$$slots:{default:!0}}),$()}export{so as component};
