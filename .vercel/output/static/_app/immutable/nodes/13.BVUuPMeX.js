import"../chunks/CWj6FrbW.js";import"../chunks/gg-Huw4A.js";import{p as U,V as X,f as h,d as R,t as u,a,s as o,c as n,g as v,m as k,b as Y,h as V,n as d,r as l,o as W,i as C}from"../chunks/OF3EgmvO.js";import{A as Z}from"../chunks/BGciXxwI.js";import{i as z}from"../chunks/wlFoaW_T.js";import{a as tt,e as et}from"../chunks/DECfYjIR.js";import{B as q,r as rt,a as at}from"../chunks/DrwkzclB.js";import{g as ot}from"../chunks/Dky2jAKs.js";import{I as E}from"../chunks/DaUql_yn.js";import{L as A}from"../chunks/DJs6wcy-.js";import{T as st}from"../chunks/CwW5NFqH.js";import{C as it}from"../chunks/DzfTeG5e.js";import{C as dt}from"../chunks/DBJYfggh.js";import{C as nt}from"../chunks/CIP4LxHI.js";import{C as lt,a as pt}from"../chunks/BNGQdwad.js";var ut=h("<!> <!>",1),vt=h('<div class="rounded-md bg-destructive/15 p-3 text-sm text-destructive"> </div>'),ct=h('<form method="POST" action="?/createGroup"><div class="space-y-4"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="inviteCode"/> <p class="text-xs text-muted-foreground">Share this code with others to let them join your group</p></div> <div class="flex gap-3 pt-4"><!> <!></div></div></form>'),mt=h("<!> <!>",1);function ft(y,b){U(b,!0);let s=V(!1),i=V("");function P(){const g="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let w="";for(let m=0;m<8;m++)w+=g.charAt(Math.floor(Math.random()*g.length));return w}const B=X(P());it(y,{children:(g,w)=>{var m=mt(),I=R(m);lt(I,{children:(G,J)=>{var p=ut(),f=R(p);pt(f,{children:(_,$)=>{d();var c=u("Create a Reading Group");a(_,c)},$$slots:{default:!0}});var x=o(f,2);nt(x,{children:(_,$)=>{d();var c=u("Start a new reading group and invite friends to join");a(_,c)},$$slots:{default:!0}}),a(G,p)},$$slots:{default:!0}});var H=o(I,2);dt(H,{children:(G,J)=>{var p=ct(),f=n(p),x=n(f);{var _=t=>{var r=vt(),e=n(r,!0);l(r),k(()=>W(e,v(i))),a(t,r)};z(x,t=>{v(i)&&t(_)})}var $=o(x,2),c=n($);A(c,{for:"name",children:(t,r)=>{d();var e=u("Group Name *");a(t,e)},$$slots:{default:!0}});var K=o(c,2);E(K,{id:"name",name:"name",type:"text",required:!0,maxlength:50,placeholder:"e.g., Mystery Book Club",get disabled(){return v(s)}}),l($);var M=o($,2),T=n(M);A(T,{for:"description",children:(t,r)=>{d();var e=u("Description (optional)");a(t,e)},$$slots:{default:!0}});var O=o(T,2);st(O,{id:"description",name:"description",maxlength:200,placeholder:"What's your group about?",rows:3,get disabled(){return v(s)}}),l(M);var S=o(M,2),L=n(S);A(L,{children:(t,r)=>{d();var e=u("Invite Code");a(t,e)},$$slots:{default:!0}});var j=o(L,2);E(j,{type:"text",get value(){return B},readonly:!0,class:"font-mono tracking-wider"});var D=o(j,2);rt(D),d(2),l(S);var F=o(S,2),N=n(F);q(N,{type:"submit",get disabled(){return v(s)},class:"flex-1",children:(t,r)=>{d();var e=u();k(()=>W(e,v(s)?"Creating...":"Create Group")),a(t,e)},$$slots:{default:!0}});var Q=o(N,2);q(Q,{type:"button",variant:"outline",onclick:()=>ot("/groups"),get disabled(){return v(s)},children:(t,r)=>{d();var e=u("Cancel");a(t,e)},$$slots:{default:!0}}),l(F),l(f),l(p),tt(p,(t,r)=>{var e;return(e=et)==null?void 0:e(t,r)},()=>()=>(C(s,!0),C(i,""),async({result:t,update:r})=>{var e;C(s,!1),t.type==="failure"&&C(i,((e=t.data)==null?void 0:e.error)||"Failed to create group",!0),await r()})),k(()=>at(D,B)),a(G,p)},$$slots:{default:!0}}),a(g,m)},$$slots:{default:!0}}),Y()}var _t=h('<div class="mx-auto max-w-2xl px-4 py-6"><!></div>');function It(y){Z(y,{title:"Create Group",children:(b,s)=>{var i=_t(),P=n(i);ft(P,{}),l(i),a(b,i)},$$slots:{default:!0}})}export{It as component};
